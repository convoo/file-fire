<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="file-fire-behavior.html">

<dom-module id="file-fire">
  <template>
    <style>
      :host {
        display: block;
      }

    </style>
<template is="dom-if" if="{{showInputs}}">  
    <template is="dom-if" if="{{onlyImages}}">
      <input type="file" id="filez" accept="image/*" on-change="_start">  
    </template>
    <template is="dom-if" if="{{!onlyImages}}">
      <input type="file" id="filez" on-change="_start">
    </template>
</template>
    
 
  </template>

  <script>
    /**
     * An element that allows simple upload of an image to Firebase storage
     * Example:
     * ```
     * <firebase-app
     *   name="demo"
     *   api-key="API_KEY"
     *   auth-domain="AUTH_DOMAIN"
     *   database-url="DATABASE_URL"
     *   storage-bucket="convoofire.appspot.com">
     * </firebase-app>
     * <!-- A file-fire element allowing image upload to firebase storage -->
     *  <file-fire 
     *       path="/u/test"
     *       over-write
     *       max-size="500"
     *       progress="{{progress}}"
     *   ></file-fire>
     * ```
     *
     *
     * @demo demo/file-fire.html
     */
    Polymer({
      is: 'file-fire',
      behaviors: [FileFireBehavior],
      properties: {
        srcUrl:{
          type: String,
        }
      },

      ready: function(){
          if (this.srcUrl){this.showInputs = false} else {this.showInputs = true}
      },



    });
  </script>
</dom-module>
